\section{Theoretical Analysis}

For this part, we used the scheme in Fig. \ref{fig:joaoscheme}, where an approximation of the OP-AMP is implicit.

\begin{figure}[H]
    \centering
    \includegraphics[width = \linewidth]{dependentsource.pdf}
    \caption{Scheme used for Octave.}
    \label{fig:joaoscheme}
\end{figure}

The equations for the this analysis are given by:

\begin{gather}
 V_-=V_+=V_I(\omega) = \frac{R_{1} V_{in}}{R_1+\frac{1}{jC_1\omega}} \\
 V_2(\omega) = \left(1+\frac{R_2}{R_3} \right)V_I\\
 V_{out}(\omega) = \frac{V_2(\omega)}{1+jR_4C_2\omega}
\end{gather}

With the first and the third equation being just the voltage dividers and the second being the gain in the OP-AMP and a non inverting amplifier. $V_{+}$ = $V_{-}$ because of the feedback received by the OP-AMP. These equations were also useful to understand the implications of each component in the circuit.

The results for this part are summarized in Tab. \ref{tab:valuesoctave}. As a sidenote, the cutoff frequencies are $f_{low} = \input{mat_low_cof}Hz$ and $f_{high} = \input{mat_high_cof}Hz$.

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
        \hline
        Variable & Unit [Hz, MU, dB, -, -]\\ 
        \hline
        Central Frequency & \input{mat_f_central}\\
        \hline
        Cost & \input{mat_cost}\\
        \hline
        Gaindb & \input{mat_gain_central}\\
        \hline
        GainLinear & \input{mat_linear_gain}\\
        \hline
        Merit & \input{mat_merit}\\
        \hline
        Clean Merit & \input{mat_merit_sem_opAMP}\\
        \hline
    \end{tabular}
    \caption{Values obtained using the scheme in Fig. \ref{fig:joaoscheme}, implemented in Octave.}
    \label{tab:valuesoctave}
\end{table}

The input and output impedances are shown below in Tab. \ref{tab:octinput} and Tab. \ref{tab:octoutput}, respectively. You can also check the frequency response in Fig. \ref{fig:octavefreq}. They were calculted by considering in Fig. \ref{fig:joaoscheme} the equivelent impedance as seen from with the voltage sources close, which represents the output impedance of the OP-AMP as 0 and the input impedance as infinity. That being said what is left to calculate for the capacitor $C_{1}$ in series with resistor $R_{1}$ and for the output impeadance is similar but this time considering that the test branch is in parallel with capacitor $C_{2}$ and also in parallel with resistor $R_{4}$.

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
    	\hline
        Impedance &  [VA]\\ 
        \hline
        $Z_{in}$ & \input{mat_Z_in_real} + i(\input{mat_Z_in_imag})\\ \hline
        $|Z_{in}|$ & \input{mat_Z_in_abs}\\ \hline
    \end{tabular}
    \caption{Input impedance.}
    \label{tab:octinput}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
    	\hline
        Impedance &  [VA]\\ 
        \hline
        $Z_{out}$ & \input{mat_Z_out_real} + i(\input{mat_Z_out_imag})\\ \hline
        $|Z_{out}|$ & \input{mat_Z_out_abs}\\ \hline
    \end{tabular}
    \caption{Output impedance.}
    \label{tab:octoutput}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics[width = \linewidth]{../mat/gain_banda.png}
    \caption{Frequency response of the circuit shown in Fig. \ref{fig:joaoscheme}, in dB.}
    \label{fig:octavefreq}
\end{figure}